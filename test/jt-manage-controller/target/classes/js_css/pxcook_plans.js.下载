/* fancynode |  | vserion 0.0.1*/
function unScroll(){if(!unbindScrolled){unbindScrolled=!0;var a=$(document).scrollTop();$(document).on("scroll.unable",function(b){$(document).scrollTop(a)})}}function removeUnScroll(){unbindScrolled=!1,$(document).unbind("scroll.unable")}function initPlans(a,b,c){a&&"null"!=a&&(b&&(previousPlanOld=!0,previousPlanId=c),plans=JSON.parse(a),plans.length>5&&plans.shift())}function renderPlans(){for(var a=$(".price-plans"),b=!1,c=0;c<plans.length;c++){var d=plans[c],e=$("<div></div>").addClass("plan");a.append(e),d.free&&e.addClass("free"),d.popular&&e.addClass("popular"),0==c?e.addClass("first"):c==plans.length-1?e.addClass("end"):e.addClass("middle");var f=$("<div></div>").addClass("plan-board");e.append(f);var g=$("<div>"+d.name+"</div>").addClass("plan-title");f.append(g);var h=null;h=d.subName?$("<div>（"+d.subName+"）</div>").addClass("sub-plan-title"):$("<div></div>").addClass("sub-plan-title"),f.append(h);var i=null,j=$("<div></div>").addClass("price-discount-container"),k=["<div>",'<div class="price-display">','<div class="symbol-container"><span class="symbol">¥</span></div>','<span class="price">0</span>','<span class="cycle">/月'+(d.adjustable?"起":"")+"</span>","</div>","</div>"].join("");i=$(k).addClass("price-container");var l=$("<div></div>").addClass("price-original");i.append(l),i.append(j),f.append(i);var m=$("<div></div>").addClass("plan-des-container");f.append(m),m.append(createDesTag(d));var n=createBtns(d);if(f.append(n.target),n.multi&&(b=!0),d.popular){e.addClass("popular");var o=$('<div style="background-image: url('+imagePath+'images/pxcook/price/plan-popular.svg);"></div>').addClass("plan-popular-display");f.append(o)}var p=$("<div></div>").addClass("plan-detail-container");e.append(p),p.append(createDesDetail(d)),planRoots.push(e)}if(b)for(var c=0;c<planRoots.length;c++)$(planRoots[c]).addClass("multi-buttons");for(var q=[],c=0;c<plans.length;c++){var d=plans[c];if(d.year&&d.month&&d.year.planPricePerMonth&&d.month.planPricePerMonth){var r=d.year.planPricePerMonth/d.month.planPricePerMonth;r=Math.round(100*r)/10,q.push(r)}}for(var s=10,c=0;c<q.length;c++)q[c]<s&&(s=q[c]);$(".price-popular .text-content").html("年付低至<br/>"+s+"折"),doSwitchPayCycle(!0),updatePlansLayout(),updatePriceActive(".price-plans .plan.popular")}function createDesTag(a){function b(a,b,d){var e=$("<div></div>").addClass("plan-des-item"),f=$("<span></span>").addClass("plan-des-content").text(a);e.append(f);var g=$("<div></div>").addClass("plan-des-content-box");e.append(g);var h=$("<span></span>").addClass("plan-des-content-value").text(b+"");g.append(h);var i=$("<span></span>").addClass("plan-des-content-unit").text(d);g.append(i);var j=$("<span></span>").addClass("plan-des-content").text("起");e.append(j),c.append(e)}var c=$("<div></div>").addClass("plan-des");if(a.adjustable){c.addClass("adjustable");var d=a.projectNum,e=a.memberNum;b("云协作项目",d,"个"),b("协作成员",e,"人/项目")}else for(var f=0;f<a.des.length;f++){var g=$("<div></div>").addClass("plan-des-content").text(a.des[f]);c.append(g)}return c}function createDesDetail(a){for(var b=$("<div></div>").addClass("plan-detail-content"),c=0;c<a.subDes.length;c++){var d=a.subDes[c],e=$("<div></div>").addClass("plan-detail-item"),f=$('<img src="'+imagePath+'images/pxcook/price/funcs-detail-big-icon.svg">').addClass("plan-detail-item-icon");e.append(f);var g=$("<span></span>").addClass("plan-detail-item-content");g.text(d),e.append(g),b.append(e)}var e=$("<div></div>").addClass("plan-detail-item"),g=$('<a href="/pxcook/detail"></a>').addClass("plan-detail-item-content more-detail");return g.text("了解更多 >"),e.append(g),b.append(e),b}function createBtns(a){var b={},c=$("<div></div>").addClass("plan-buttons-container"),d=$("<a></a>").addClass("plan-button common-button");a.type==-1?(isWindows?d.attr("href",downloadUrlWin64):d.attr("href",downloadUrlMac),d.addClass("blue"),d.addClass("download"),d.addClass("download-pxcook")):(a.popular?d.addClass("orange"):d.addClass("blue"),d.addClass("buy"),d.attr("plan-id",a.id));var e=getBtns(a);if(d.text(e[0]),c.append(d),b.multi=!1,e.length>1){var d=$("<a></a>").addClass("plan-button common-button");d.addClass("second"),d.addClass("orange stroke"),d.addClass("adjust"),d.attr("plan-id",a.id),d.text(e[1]),c.append(d),b.multi=!0}return b.target=c,b}function getBtns(a){var b=a.type,c=a.adjustable;return b==-1?["立即下载"]:0==b?c?["立即选配"]:["立即购买"]:1==b?["方案续费"]:2==b?["方案续费","调整配置"]:3==b?c?["升级选配"]:["升级方案"]:void 0}function getCanBuy(a){var b=getPlan(a),c=b.type;return 0==c||1==c||2==c||3==c}function getOldPlan(){return{has:previousPlanOld,planId:previousPlanId}}function getPlan(a){for(var b=0;b<plans.length;b++){var c=plans[b];if(c.id==a)return c}return null}function switchPayCycle(a){doSwitchPayCycle($(a).hasClass("price-left")?!1:!0)}function doSwitchPayCycle(a){$(".price-part .price-plan-btns .price").removeClass("active"),$(".price-part .plan .price-discount-container").empty(),a?($(".price-part .price-plan-btns .price-popular").fadeOut(200),$(".price-part .price-plan-btns .price.price-right").addClass("active")):($(".price-part .price-plan-btns .price-popular").fadeIn(200),$(".price-part .price-plan-btns .price.price-left").addClass("active"));for(var b=0;b<planRoots.length;b++){var c=planRoots[b],d=plans[b],e=a?d.year:d.month;e&&(e.discountDes&&$(c).find(".price-discount-container").append(e.discountDes),$(c).find(".price").text(e.planPricePerMonth),e.planPricePerMonth!=e.planPricePerMonthOriginal?$(c).find(".price-original").text("￥"+e.planPricePerMonthOriginal+"/月"+(d.adjustable?"起":"")):$(c).find(".price-original").html(""))}}function updatePriceActive(a,b){$(".price-plans .plan").removeClass("activate"),$(a).addClass("activate")}function updatePlansLayout(){var a=10,b=270,c=200,d=20,e=(b+2*a)*plans.length,f=1200,g=Math.min(e,f);$(".price-plans").css("max-width",g+"px");var h=$(".price-plans").innerWidth()-2*d,i=h/(c+2*a),j=Math.floor(i);j>=plans.length&&(j=plans.length);var k=Math.floor(1/j*1e4)/100+"%";$(".price-plans .plan").css("width",k)}var script=document.getElementsByTagName("script");script=script[script.length-1];var imagePath=script.getAttribute("imagePath"),uid=script.getAttribute("uid"),email=script.getAttribute("email"),downloadUrlMac=script.getAttribute("downloadUrlMac"),downloadUrlWin64=script.getAttribute("downloadUrlWin64"),isWindows=function(){return/windows|win32/i.test(navigator.userAgent)}(),unbindScrolled=!1,plans=[],previousPlanOld=!1,previousPlanId=-1,hoverFrame=null,planRoots=[];